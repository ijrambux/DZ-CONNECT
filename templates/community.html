<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ…“ğŸ…©-ğŸ…’ğŸ…ğŸ…ğŸ…ğŸ…”ğŸ…’ğŸ…£ | Ø³Ø§Ø­Ø© Ø§Ù„ØªÙØ§Ø¹Ù„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        body { background: #00050a; color: #fff; font-family: 'Tajawal', sans-serif; }
        .glass-card { background: rgba(0, 20, 40, 0.6); border: 1px solid rgba(0, 212, 255, 0.2); backdrop-filter: blur(15px); }
        .blue-glow { color: #00d4ff; text-shadow: 0 0 10px rgba(0, 212, 255, 0.5); }
        .btn-blue { background: linear-gradient(90deg, #0066ff, #00d4ff); }
    </style>
</head>
<body class="p-4 md:p-10">

    <nav class="max-w-4xl mx-auto flex justify-between items-center mb-12 border-b border-blue-900/30 pb-6">
        <h1 class="text-3xl font-black blue-glow">ğŸ…“ğŸ…©-ğŸ…’ğŸ…ğŸ…ğŸ…ğŸ…”ğŸ…’ğŸ…£</h1>
        <div class="flex items-center gap-3">
            <span class="text-xs text-green-400 animate-pulse">â— Ø§Ù„Ø³ÙŠØ±ÙØ± Ù†Ø´Ø·</span>
            <img src="https://flagcdn.com/w40/dz.png" class="rounded shadow-lg">
        </div>
    </nav>

    <main class="max-w-2xl mx-auto space-y-10">
        
        <div class="glass-card p-6 rounded-[2.5rem]">
            <textarea id="postInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø¬ØªÙ…Ø¹..." 
                class="w-full bg-black/50 border border-blue-900/50 p-4 rounded-2xl h-28 outline-none focus:border-blue-400 transition text-sm text-white"></textarea>
            <div class="flex justify-end mt-4">
                <button onclick="publishPost()" class="btn-blue px-10 py-3 rounded-xl font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition">
                    Ù†Ø´Ø± Ø§Ù„Ø¢Ù† ğŸš€
                </button>
            </div>
        </div>

        <div id="postsContainer" class="space-y-6">
            </div>
    </main>

    <script>
        async function loadPosts() {
            const response = await fetch('/api/posts');
            const posts = await response.json();
            const container = document.getElementById('postsContainer');
            container.innerHTML = '';
            
            posts.forEach(post => {
                container.innerHTML += `
                    <div class="glass-card p-6 rounded-[2rem] border-r-4 border-r-blue-500">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-blue-400 font-bold">${post.user}</span>
                            <button class="text-xs text-slate-500 hover:text-red-400 transition">â¤ ${post.likes}</button>
                        </div>
                        <p class="text-slate-200 text-sm leading-relaxed">${post.content}</p>
                    </div>
                `;
            });
        }

        async function publishPost() {
            const content = document.getElementById('postInput').value;
            if(!content) return alert("Ø§ÙƒØªØ¨ Ø´ÙŠØ¦Ø§Ù‹ Ø£ÙˆÙ„Ø§Ù‹!");

            await fetch('/api/posts', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({content})
            });

            document.getElementById('postInput').value = '';
            loadPosts(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        loadPosts();
    </script>
</body>
</html>
