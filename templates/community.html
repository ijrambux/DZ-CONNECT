<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ…“ğŸ…©-ğŸ…’ğŸ…ğŸ…ğŸ…ğŸ…”ğŸ…’ğŸ…£ | Ø§Ù„Ù…Ø¬ØªÙ…Ø¹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #00050a; color: #fff; font-family: 'Tajawal', sans-serif; }
        .brand-small {
            filter: invert(48%) sepia(79%) saturate(2476%) hue-rotate(160deg) brightness(118%) contrast(119%);
            font-size: 1.5rem; font-weight: 900;
        }
        .glass-card { background: rgba(0, 20, 40, 0.6); border: 1px solid rgba(0, 212, 255, 0.2); }
    </style>
</head>
<body class="p-4 md:p-10 flex flex-col items-center">
    <nav class="w-full max-w-2xl flex justify-between items-center mb-10">
        <span class="brand-small">ğŸ…“ğŸ…©-ğŸ…’ğŸ…ğŸ…ğŸ…ğŸ…”ğŸ…’ğŸ…£</span>
        <img src="https://flagcdn.com/w40/dz.png" class="rounded shadow-sm">
    </nav>

    <main class="w-full max-w-xl space-y-8">
        <div class="glass-card p-6 rounded-[2rem]">
            <textarea id="postContent" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù„Ù„Ù…Ø¬ØªÙ…Ø¹..." class="w-full bg-black/50 border border-blue-900/40 p-4 rounded-2xl h-24 text-sm outline-none focus:border-blue-400"></textarea>
            <button onclick="sendPost()" class="w-full mt-4 bg-blue-600 py-3 rounded-xl font-bold">Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ø³Ø§Ø­Ø© ğŸš€</button>
        </div>

        <div id="postsFeed" class="space-y-4"></div>
    </main>

    <script>
        async function fetchPosts() {
            const res = await fetch('/api/posts');
            const data = await res.json();
            const feed = document.getElementById('postsFeed');
            feed.innerHTML = data.map(p => `
                <div class="glass-card p-6 rounded-[2rem] border-r-2 border-blue-500">
                    <div class="flex justify-between text-[10px] text-blue-400 mb-2"><span>${p.user}</span><span>â¤ ${p.likes}</span></div>
                    <p class="text-sm text-slate-200">${p.content}</p>
                </div>
            `).join('');
        }

        async function sendPost() {
            const content = document.getElementById('postContent').value;
            if(!content) return;
            await fetch('/api/posts', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({content})
            });
            document.getElementById('postContent').value = '';
            fetchPosts();
        }
        fetchPosts();
    </script>
</body>
</html>
